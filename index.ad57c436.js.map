{"mappings":"YACA,IAAMA,EAAW,+BACXC,EAAU,wEAYT,SAASC,EAAgBC,GAC/B,OAAOC,MAAM,GAAqCC,OAAlCL,EAAS,2BAA8CK,OAArBJ,EAAQ,eAAqBI,OAARF,IAAWG,MAAK,SAACC,GACvF,GAAKA,EAAIC,GAGR,OAAOD,EAAIE,OAFX,MAAM,IAAIC,MAAMH,EAAII,O,ICfvB,IAAMC,EAAgBC,SAASC,cAAc,iBACvCC,EAAYF,SAASC,cAAc,aACnCE,EAAWH,SAASC,cAAc,WAClCG,EAAUJ,SAASC,cAAc,UAEvCG,EAAQC,UAAUC,IAAI,aAGtB,IAAMC,EAAU,SAACC,GACfL,EAASE,UAAUI,QAAQ,SAAU,aACrCL,EAAQC,UAAUK,OAAO,aACzBN,EAAQO,YAAc,wC,EDRhBpB,MAAM,GAA8BC,OAA3BL,EAAS,oBAA0BK,OAARJ,IAAWK,MAAK,SAACC,GAC3D,GAAKA,EAAIC,GAGR,OAAOD,EAAIE,OAFX,MAAM,IAAIC,MAAMH,EAAII,O,ICYnBL,MAAK,SAACmB,GACJT,EAASE,UAAUI,QAAQ,SAAU,aAErC,IAAMI,EAAgBD,EAAKE,KAAI,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAEF,EAAFE,GACtC,MAAO,iBAAuBzB,OAANyB,EAAG,KAAQzB,OAALwB,EAAK,Y,IAGrCjB,EAAcmB,mBAAmB,YAAaL,GAC9Cd,EAAcM,UAAUK,OAAO,Y,IAEjCS,MAAMZ,GAOVR,EAAcqB,iBAAiB,UAAU,SAACC,GAExClB,EAASE,UAAUI,QAAQ,YAAa,UAGxCV,EAAcM,UAAUC,IAAI,aAC5BJ,EAAUG,UAAUC,IAAI,aAKxBjB,EAHgBgC,EAAEC,OAAOC,OAIvB9B,MAAK,SAAC+B,GACJrB,EAASE,UAAUI,QAAQ,SAAU,aACrCP,EAAUG,UAAUK,OAAO,aAE3BR,EAAUS,YAAc,aAAiCnB,OAApBgC,EAAIR,KAAK,aAAqBxB,OAAVgC,EAAIC,M,IAE/DN,MAAMZ,E","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["\nconst BASE_URL = \"https://api.thecatapi.com/v1\";\nconst API_KEY = \"live_hgVLmozRnWu8KA5AwXcTnQHagnoN82mIVmdHKvikbJsJw7KLhHIWKYVzJ3B5sXy5\";\n\nexport function fetchBreeds() {\n\treturn fetch(`${BASE_URL}/breeds?api_key=${API_KEY}`).then((res) => {\n\t\tif (!res.ok) {\n\t\t\tthrow new Error(res.status);\n\t\t} else {\n\t\t\treturn res.json();\n\t\t}\n\t});\n}\n\nexport function fetchCatByBreed(breedId) {\n\treturn fetch(`${BASE_URL}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`).then((res) => {\n\t\tif (!res.ok) {\n\t\t\tthrow new Error(res.status);\n\t\t} else {\n\t\t\treturn res.json();\n\t\t}\n\t});\n}\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst breedSelectEl = document.querySelector(\".breed-select\");\nconst catInfoEl = document.querySelector(\".cat-info\");\nconst loaderEl = document.querySelector(\".loader\");\nconst errorEl = document.querySelector(\".error\");\n\nerrorEl.classList.add(\"is-hidden\");\n\n// Function to handle errors\nconst onError = (error) => {\n  loaderEl.classList.replace(\"loader\", \"is-hidden\");\n  errorEl.classList.remove(\"is-hidden\");\n  errorEl.textContent = \"An error occurred while fetching data.\";\n};\n\n// Function to fetch breeds and populate select options\nconst fetchAndPopulateBreeds = () => {\n  fetchBreeds()\n   .then((data) => {\n      loaderEl.classList.replace(\"loader\", \"is-hidden\");\n\n      const optionsMarkup = data.map(({ name, id }) => {\n        return `<option value=${id}>${name}</option>`;\n      });\n\n      breedSelectEl.insertAdjacentHTML(\"beforeend\", optionsMarkup);\n      breedSelectEl.classList.remove(\"is-hidden\");\n    })\n   .catch(onError);\n};\n\n// Initial call to fetch and populate breeds\nfetchAndPopulateBreeds();\n\n// Event listener for breed select element\nbreedSelectEl.addEventListener(\"change\", (e) => {\n  // Show loader while loading\n  loaderEl.classList.replace(\"is-hidden\", \"loader\");\n\n  // Hide select element and cat info while loading\n  breedSelectEl.classList.add(\"is-hidden\");\n  catInfoEl.classList.add(\"is-hidden\");\n\n  const breedId = e.target.value;\n\n  // Fetch cat by breed and update cat info\n  fetchCatByBreed(breedId)\n   .then((cat) => {\n      loaderEl.classList.replace(\"loader\", \"is-hidden\");\n      catInfoEl.classList.remove(\"is-hidden\");\n      // Update cat info element with fetched cat data\n      catInfoEl.textContent = `Cat Name: ${cat.name}, Breed: ${cat.breed}`;\n    })\n   .catch(onError);\n});\n"],"names":["$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$var$API_KEY","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","fetch","concat","then","res","ok","json","Error","status","$b8f9b7833fa37166$var$breedSelectEl","document","querySelector","$b8f9b7833fa37166$var$catInfoEl","$b8f9b7833fa37166$var$loaderEl","$b8f9b7833fa37166$var$errorEl","classList","add","$b8f9b7833fa37166$var$onError","error","replace","remove","textContent","data","optionsMarkup","map","param","name","id","insertAdjacentHTML","catch","addEventListener","e","target","value","cat","breed"],"version":3,"file":"index.ad57c436.js.map"}